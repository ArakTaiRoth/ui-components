import { GoAInput, GoAForm, GoAFormItem } from '../index.ts';
import { useState } from 'react';
import { Do, Dont } from '@abgov/shared/storybook-common';
import {
  Meta,
  Preview,
  Story,
  ArgsTable,
  Description,
} from '@storybook/addon-docs/blocks';

<Meta title="Experimental/Components/Input" component={GoAInput} />

# GoAInput

## Overview

export const Template = (args) => {
  const [value, setValue] = useState('');
  return (
    <div style={{ padding: '4px', backgroundColor: '#eee' }}>
      <GoAInput {...args} onChange={(name, val) => setValue(val)} />
    </div>
  );
};

export const FormTemplate = (args) => {
  const [value, setValue] = useState('');
  return (
    <div style={{ padding: '4px' }}>
      <GoAForm>
        <h2>Your information</h2>
        <GoAFormItem {...args}>
          <label htmlFor="firstName">First Name</label>
          <GoAInput
            {...args}
            id="firstName"
            type="text"
            name="firstName"
            value={value}
            onChange={(name, val) => setValue(val)}
          />
        </GoAFormItem>
      </GoAForm>
    </div>
  );
};

#### Basic

```ts
interface Props {
  // required
  name: string;
  value: string;
  type: InputType;
  onChange: OnChange;

  // optional
  disabled?: boolean;
  placeholder?: string;
  leadingIcon?: GoAIconType;
}
```

<Canvas>
  <Story name="Basic">{Template.bind({})}</Story>
</Canvas>

```tsx
<GoAInput {...props} />
```

<Canvas>
  <Story name="Form" args={{ helpText: "What's your name?" }}>
    {FormTemplate.bind({})}
  </Story>
</Canvas>

```tsx
export const MyForm: FC = () => {
  const [value, setValue] = useState('');
  return (
    <>
      <GoAForm>
        <h2>Your information</h2>
        <GoAFormItem>
          <label htmlFor="firstName">First Name</label>
          <GoAInput
            id="firstName"
            type="text"
            name="firstName"
            value={value}
            onChange={(name, val) => setValue(val)}
          />
        </GoAFormItem>
      </GoAForm>
    </>
  );
};
```

## GoAInput Properties

<Description of={GoAInput} />
<ArgsTable of={GoAInput} />

<Dont description="Don't use placeholder text in text fields" />
<Dont description="Donâ€™t extend inputs longer than 45-75 characters." />
<Dont description="Don't use icons instead of a meaningful label." />
<Do description="Use Text Input if just one line is needed." />
