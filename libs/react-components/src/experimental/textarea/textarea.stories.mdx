import { GoATextArea, GoAForm, GoAFormItem } from '../index.ts';
import { useState } from 'react';
import { Do, Dont } from '@abgov/shared/storybook-common';

import {
  Meta,
  Preview,
  Story,
  ArgsTable,
  Description,
} from '@storybook/addon-docs/blocks';

<Meta
  title="Experimental/Components/TextArea"
  component={GoATextArea}
  argTypes={{
    type: {
      control: {
        type: 'string',
      },
    },
  }}
/>

# GoATextArea

## Overview

Provides the html textarea element with the GoA theme and custom bindings.

## Examples

export const Template = (args) => {
  return (
    <div style={{ padding: '4px' }}>
      <GoATextArea {...args} />
    </div>
  );
};

export const FormTemplate = (args) => {
  const [value, setValue] = useState('');
  return (
    <div style={{ padding: '4px' }}>
      <GoAForm>
        <GoAFormItem helpText="Tell me about yourself...">
          <label htmlFor="aboutme">About me</label>
          <GoATextArea
            id="aboutme"
            name="aboutme"
            value={value}
            onChange={(name, val) => setValue(val)}
          />
        </GoAFormItem>
      </GoAForm>
    </div>
  );
};

#### Basic

```ts
interface Props {
  // required
  name: string;
  value: string;
  onChange: OnChange;

  // optional
  id?: string;
  placeholder?: string;
}
```

<Canvas>
  <Story name="Basic">{Template.bind({})}</Story>
</Canvas>

```tsx
<GoATextArea {...args} />
```

<Canvas>
  <Story name="Form">{FormTemplate.bind({})}</Story>
</Canvas>

```tsx
export const ApplicationForm: FC = () => {
  const [value, setValue] = useState('');
  return (
    <>
      <GoAForm>
        <GoAFormItem helpText="Tell me about yourself...">
          <label htmlFor="aboutme">About me</label>
          <GoATextArea
            id="aboutme"
            name="aboutme"
            value={value}
            onChange={(name, val) => setValue(val)}
          />
        </GoAFormItem>
      </GoAForm>
    </>
  );
};
```

## GoATextArea Properties

<Description of={GoATextArea} />
<ArgsTable of={GoATextArea} />

<Dont description="Use placeholder text in text fields" />
<Dont description="Extend Text Fields longer than 45-75 characters." />
<Dont description="Use a Text Area which is only one line high." />
<Do description="Use labels and helper text to communicate how a field should be filled out." />
<Do description="Make empty Text Areas as tall as the content they are expected to contain." />
