import { Meta, Story } from '@storybook/addon-docs';
import { Tabs, Tab, Note, CodeSnippet } from '@abgov/shared/storybook-common';
import { GoAButton, GoAButtonGroup, GoAModal } from '@abgov/react-components';
import { useState } from 'react';

<Meta title="Components/Modal" />

# Modal

export const Template = () => {
  const [showModal, setShowModal] = useState(false);
  return (
    <>
      <GoAButton onClick={() => setShowModal(true)}>
        Open Modal
      </GoAButton>
      <GoAModal
        title="Do you agree?"
        open={showModal}
        onClose={() => setShowModal(false)}
        actions={
          <GoAButtonGroup alignment="end">
            <GoAButton onClick={() => setShowModal(false)} size="medium">I Agree</GoAButton>
          </GoAButtonGroup>
        }
      >
        <p>
          Lorem ipsum dolor sit amet consectetur adipisicing elit. Mollitia obcaecati id molestiae,
          natus dicta, eaque qui iusto similique, libero explicabo eligendi eius laboriosam!
          Repellendus ducimus officia asperiores. Eos, eius numquam.
        </p>
      </GoAModal>
    </>
  )
}

## Basic

<Story name="Basic">
  {Template.bind({})}
</Story>

<Tabs>
  <Tab label="Web Component">
    <CodeSnippet lang="html" code={`
      <goa-button id="button">Open Modal</goa-button>
      <goa-modal id="modal" title="Do you agree?" closable>
        <p>
          Lorem ipsum dolor sit amet consectetur adipisicing elit. Mollitia obcaecati id molestiae,
          natus dicta, eaque qui iusto similique, libero explicabo eligendi eius laboriosam!
          Repellendus ducimus officia asperiores. Eos, eius numquam.</p>
        <goa-button-group alignment="end" slot="actions">
          <goa-button slot="actions" size="medium">I Agree</goa-button>
        </goa-button-group>
      </goa-modal>
    `}/>
    <CodeSnippet lang="js" code={`
      const button = document.getElementById('button');
      const modal = document.getElementById('modal');
      button.addEventListener('_click', () => {
        modal.setAttribute("open", true)
      });
      modal.addEventListener("_close", () => {
        modal.removeAttribute("open")
      });
    `}/>
  </Tab>
  <Tab label="Angular">
    <CodeSnippet lang="html" code={`
      <goa-button id="button" (_click)="openModal()">Open Modal</goa-button>
      <goa-modal id="modal" title="Do you agree?" [open]="isOpen" (_close)="closeModal()" closable>
        <p>
          Lorem ipsum dolor sit amet consectetur adipisicing elit. Mollitia obcaecati id molestiae,
          natus dicta, eaque qui iusto similique, libero explicabo eligendi eius laboriosam!
          Repellendus ducimus officia asperiores. Eos, eius numquam.
        </p>
        <goa-button-group alignment="end" slot="actions">
          <goa-button slot="actions" size="medium">I Agree</goa-button>
        </goa-button-group>
      </goa-modal>
    `}/>
    <CodeSnippet lang="ts" code={`
      export class SomeComponent {
        isOpen: boolean = false;
        openModal(e) {
          isOpen = true;
        }
        closeModal(e) {
          isOpen = false;
        }
      }
    `}/>
  </Tab>
  <Tab label="React">
    <CodeSnippet lang="tsx" code={`
      const [showModal, setShowModal] = useState(false);
      return (
        <>
          <GoAButton onClick={() => setShowModal(true)}>
            Open Modal
          </GoAButton>
          <GoAModal
            title="Do you agree?"
            open={showModal}
            onClose={() => setShowModal(false)}
            actions={
              <GoAButtonGroup alignment="end">
                <GoAButton onClick={() => setShowModal(false)} size="medium">I Agree</GoAButton>
              </GoAButtonGroup>
            }
          >
            <p>
              Lorem ipsum dolor sit amet consectetur adipisicing elit. Mollitia obcaecati id molestiae,
              natus dicta, eaque qui iusto similique, libero explicabo eligendi eius laboriosam!
              Repellendus ducimus officia asperiores. Eos, eius numquam.
            </p>
          </GoAModal>
        </>
      )
    `}/>
  </Tab>
</Tabs>


---

## Support

<goa-callout type="information" title="Need help? Connect with us on Slack">
  <a href="https://goa-dio.slack.com/archives/C02PLLT9HQ9">#design-system-support</a> General information and discussion related to design system including questions, new component proposals, contribution, and other requests.
</goa-callout>

### Help improve this page

To help make sure that this page is useful, relevant, and up to date, you can:

[Create an issue for a proposed update or contribution](https://github.com/GovAlta/ui-components/issues/new/choose)
